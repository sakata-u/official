<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>坂田和真 | ブログ一覧 </title>

    <meta name="description" content="坂田和真のブログ記事一覧です。">

    <style>
        /* 基本的なスタイル */
        body {
            font-family: sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4; /* 全体の背景色 */
            color: #333;
            overflow-x: hidden; /* 横方向のスクロールバーを非表示 */
        }

        .container {
            width: 80%; /* デスクトップでの表示幅 */
            max-width: 1200px; /* 最大幅 */
            margin: 0 auto;
            padding: 20px 0;
        }

        header {
            background-color: transparent; /* ヘッダーの背景色を透明に */
            color: #333; /* ヘッダーのテキスト色をbodyと同じに調整 */
            padding: 20px 0;
            text-align: center;
            position: relative; /* ホームリンクの位置決めに必要 */
        }

        header h1 {
            margin: 0;
            font-size: 1.1em; /* index.htmlのheader pと同じサイズに */
        }

        header p {
            margin: 5px 0 0;
            font-size: 1.1em;
        }

        /* 新しい「HOME」リンクのスタイル (blog/index.html用) */
        .home-link-top-right {
            position: absolute; /* 親要素に対して絶対位置指定 */
            top: 20px; /* 上からの位置 */
            right: 20px; /* 右からの位置 */
            text-decoration: none;
            color: #4169e1; /* リンクの色を変更 */
            font-weight: bold;
            padding: 5px 10px; /* クリックしやすいようにパディング */
            border: 1px solid #4169e1; /* 枠線も変更 */
            border-radius: 5px; /* 角を丸く */
            transition: all 0.3s ease; /* ホバー時のアニメーション */
            z-index: 10; /* 他の要素より手前に表示 */
        }

        .home-link-top-right:hover {
            background-color: #4169e1; /* ホバー時の背景色も変更 */
            color: #fff; /* ホバー時の文字色 */
        }

        section {
            background-color: transparent; /* セクションの背景色を透明に */
            margin-bottom: 20px;
            padding: 30px;
            border-radius: 8px;
            box-shadow: none; /* セクションの影をなくす */
        }

        /* ブログ記事のスタイル */
        .blog-posts ul {
            list-style: none;
            padding: 0;
        }
        .blog-posts li {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .blog-posts li:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        /* クリック済みの記事のスタイル */
        .blog-posts li.visited h3,
        .blog-posts li.visited p {
            opacity: 0.6; /* 文字を薄くする */
        }
        .blog-posts li h3 {
            margin-top: 0;
            margin-bottom: 8px;
            /* ここはh3自体の色。リンクの色はh3内のaタグで指定 */
            font-size: 1.2em;
        }
        /* ブログ記事タイトル内のリンクの色 */
        .blog-posts li h3 a {
            color: #4169e1; /* リンクの色を#4169e1に変更 */
            text-decoration: none; /* 下線なし */
        }
        .blog-posts li h3 a:hover {
            text-decoration: underline; /* ホバーで下線 */
        }
        /* 「【最新】新機能の追加とサイト改善について」のタイトル色を#4169e1に */
        .blog-posts li.post-0 h3 a { /* 最初の記事 (index 0) のタイトルリンク */
            color: #4169e1; /* ここを #4169e1 に変更 */
        }

        .blog-posts li .date {
            font-size: 0.85em;
            color: #888;
            margin-bottom: 12px;
            display: block;
        }
        .blog-posts li p {
            margin-bottom: 0;
            font-size: 0.95em;
            color: #555;
        }
        .blog-posts .read-more-link {
            display: inline-block;
            margin-top: 10px;
            color: #4169e1; /* リンクの色を#4169e1に変更 */
            text-decoration: none;
            font-weight: bold;
        }
        .blog-posts .read-more-link:hover {
            text-decoration: underline;
        }

        /* 「メインページへ戻る」ボタンのスタイルは blog.html では不要になるため削除 */
        .back-to-home {
            display: none;
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px 0;
            margin-top: 20px;
        }

        /* --- ここからがスマホ対応の重要な部分です --- */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 10px 0;
            }

            header h1 {
                font-size: 1.5em; /* スマホでの調整 */
            }

            header p {
                font-size: 1em; /* スマホでの調整 */
            }

            section {
                padding: 20px;
            }

            h2 {
                font-size: 1.5em;
            }

            /* スマホでの「HOME」リンクの位置調整 */
            .home-link-top-right {
                top: 15px;
                right: 15px;
                font-size: 0.9em;
                padding: 3px 8px;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.2em; /* より小さいスマホでの調整 */
            }

            header p {
                font-size: 0.9em; /* より小さいスマホでの調整 */
            }
        }
    </style>
</head>
<body>

    <header>
        <a href="../" class="home-link-top-right">HOME</a>

        <div class="container">
            <h1>すべての記事一覧</h1>
            <p></p>
        </div>
    </header>

    <main class="container">
        <section class="blog-posts">
            <h2>すべてのブログ記事</h2>
            <ul id="blog-list">
                </ul>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 坂田和真. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="./blogPostsData.js"></script>
    <script>
        // ブログ記事を表示する関数 (blog/index.html用: すべての記事を表示)
        function displayAllBlogPosts() {
            const blogList = document.getElementById('blog-list');
            if (!blogList) return; // blog-listが存在しない場合は処理しない

            blogList.innerHTML = ''; // 既存のリストをクリア

            // ブログ記事を日付で降順にソート（新しいものが先頭）
            const sortedPosts = [...blogPostsData].sort((a, b) => {
                // 日付文字列をDateオブジェクトに変換して比較
                const dateA = new Date(a.date.replace(/年|月|日/g, '/').slice(0, -1));
                const dateB = new Date(b.date.replace(/年|月|日/g, '/').slice(0, -1));
                return dateB - dateA;
            });

            // すべての記事を表示
            sortedPosts.forEach((post, index) => { // indexも取得
                const listItem = document.createElement('li');
                // 最初の記事 (タイトルが「【最新】新機能の追加とサイト改善について」) に `post-0` クラスを追加
                // 注: このクラスは特定の記事を指すために使われるため、記事の並び順が変わると影響が出る可能性があります。
                // より頑健にするには、タイトルやURLで特定の記事を識別するロジックが必要です。
                if (post.title === "【最新】新機能の追加とサイト改善について") {
                    listItem.classList.add('post-0');
                }
                listItem.innerHTML = `
                    <h3><a href="${post.url}" target="_blank">${post.title}</a></h3>
                    <span class="date">${post.date}</span>
                    <p>${post.summary}</p>
                `;
                // クリック時のvisitedクラス追加
                listItem.querySelector('a').addEventListener('click', function() {
                    listItem.classList.add('visited');
                });
                blogList.appendChild(listItem);
            });
        }

        // ページロード時にブログ記事を表示 (blog/index.htmlのみで実行)
        document.addEventListener('DOMContentLoaded', displayAllBlogPosts);
    </script>

</body>
</html>
